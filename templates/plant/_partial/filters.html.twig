<div class="filters">
    <form id="filters_form" action="?">
        <div class="insolation" >
            <div class="grid-6-small-3">
                <div class="col">
                    <h4>Tolérance à la sécheresse</h4>
                    <select name="drought_tolerance[]" id="filter_drought_tolerance" multiple="multiple">
                        {% for drought_tolerance in 1..5 %}
                            <option value="{{ drought_tolerance }}" data-f-value="{{ drought_tolerance }}" {% if ( filters['drought_tolerance'] is defined and (drought_tolerance in filters['drought_tolerance'])) %} selected="selected" {% endif %} >
                                {{ drought_tolerance }}/5
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <h4>Tolérance au calcaire</h4>
                    <select name="limestone[]" id="filter_limestone" multiple="multiple">
                        {% for limestone in [1,2,4] %}
                            <option value="{{ limestone }}" data-f-value="{{ limestone }}" {% if ( filters['limestone'] is defined and (limestone in filters['limestone'])) %} selected="selected" {% endif %} >
                                {{ limestone | human('limestone') }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <h4>Exposition</h4>
                    <select name="insolation[]" id="filter_insolation" multiple="multiple">
                        {% for insolation in insolations %}
                            <option value="{{ insolation.id }}" data-f-value="{{ insolation.type }}" {% if ( complex_filters['insolation'] is defined and (insolation.type in complex_filters['insolation'])) %} selected="selected" {% endif %} >
                                {{ insolation.type | human('insolation') }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <h4>Strate</h4>
                    <select name="stratum[]" id="filter_stratum" multiple="multiple">
                        {% for stratum in 1..6 %}
                            <option value="{{ stratum }}" data-f-value="{{ stratum }}" {% if ( filters['stratum'] is defined and (stratum in filters['stratum'])) %} selected="selected" {% endif %} >
                                {{ stratum | human('stratum') }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <h4>Tendance racinaire</h4>
                    <select name="root[]" id="filter_root" multiple="multiple">
                        {% for root in 1..6 %}
                            <option value="{{ root }}" data-f-value="{{ root }}" {% if ( filters['root'] is defined and (root in filters['root'])) %} selected="selected" {% endif %} >
                                {{ root | human('root') }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <h4>Cycle de vie</h4>
                    <select name="life_cycle[]" id="filter_life_cycle" multiple="multiple">
                        {% for life_cycle in 1..3 %}
                            <option value="{{ life_cycle }}" data-f-value="{{ life_cycle }}" {% if ( filters['life_cycle'] is defined and (life_cycle in filters['life_cycle'])) %} selected="selected" {% endif %} >
                                {{ life_cycle | human('life_cycle') }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <h4>Densité de feuillage</h4>
                    <select name="leaf_density[]" id="filter_leaf_density" multiple="multiple">
                        {% for leaf_density in 1..3 %}
                            <option value="{{ leaf_density }}" data-f-value="{{ leaf_density }}" {% if ( filters['leaf_density'] is defined and (leaf_density in filters['leaf_density'])) %} selected="selected" {% endif %} >
                                {{ leaf_density | human('leaf_density') }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        <input type="text" name="q" placeholder="recherche ..." value="{{ query_string }}"/><br>
        <input type="submit" value="OK" />
    </form>


    {% if filters | length or complex_filters | length %}
        {% for filter,value in filters %}
            {% if value is iterable %}
                {% for v in value %}
                    <span class="tag" data-key="{{ filter }}" data-value="{{ v }}">
                        {{ v | human(filter,true) }} <span class="close"></span>
                    </span>
                {% endfor %}
            {% else %}
                <span  class="tag" data-key="{{ filter }}" data-value="{{ value }}">
                    {{ value | human(filter,true) }} <span class="close"></span>
                </span>
            {% endif %}
        {% endfor %}
        {% for filter,value in complex_filters %}
            {% if value is iterable %}
                {% for v in value %}
                    <span class="tag" data-key="{{ filter }}" data-value="{{ v }}">
                        {{ v | human(filter,true) }} <span class="close"></span>
                    </span>
                {% endfor %}
            {% else %}
                <span class="tag" data-key="{{ filter }}" data-value="{{ value }}">
                    {{ value | human(filter,true) }} <span class="close"></span>
                </span>
            {% endif %}
        {% endfor %}
        <br>
        <a href="{{ path('plant') }}">Supprimer tous les filtres</a>
    {% endif %}
</div>